
- ### FAQ

  **Q1：GT-BE96会推出梅林改版固件吗？**

  > **A1：** 应该不会，因为目前梅林固件的支持列表里没有GT-BE96，除非梅林固件上游推出GT-BE96梅林固件。

  **Q2：软件中心一直显示更新中？**

  > **A2：** 此问题也可以有很多变种，比如：软件中心不显示在线版本号，此问题可能由多种原因导致，请尝试下面的方法：
  >
  > 1. 访问[https://rogsoft.ddnsto.com/](https://rogsoft.ddnsto.com/)，请确保你访问此网站的时候使用的是连接到该路由器下的客户端，如果显示`Hello to everyone`字样，表示你的路由下的本地网络访问软件中心服务器没有问题；如果不显示上述字样，则可能是是网络方面的问题。
  > 2. 情况1，路由器本地网络故障：开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器，输入命令：`ping armsoft.ddnsto.com`，看是否能ping通服务器，如果无法解析ip地址，可以尝试更换路由器dns设定后再试；如果能解析ip地址当时无法ping通，可能是本地网络问题或者软件中心服务器正在维护。
  > 3. 情况2，路由器本地网络故障：开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器，输入命令：`curl -sS4L https://armsoft.ddnsto.com/|grep Hello`，如果显示了两行内容都包含`Hello to everyone`字样，表明路由器访问软件中心web服务器没有问题；如果没有以上显示，可能是本地网络问题或者软件中心服务器正在维护。
  > 4. 情况3，服务器网络故障：这有可能是koolshare软件中心服务器维护，建议可以加本论坛相关讨论群组，可以第一时间获得相关信息。
  > 5. 如果排除了以上网络故障，那么可能是程序运行方面的问题。可以进行以下操作：开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器后，输入命令：`ps|grep -w httpdb|grep -v grep`，如果有输出内容表明软件中心web服务运行正常，如果输出内容为空表明软件中心web服务运行异常，请参考下文：重要命令里的**重启软件中心**以解决httpdb没有运行的问题。
  > 6. 开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器后，输入命令：`ps|grep skipd|grep -v grep`，如果有输出内容表明软件中心数据库服务运行正常，如果输出内容为空表明软件中心数据库服务运行异常，可以尝试通过运行命令`service restart_skipd`来重启skipd服务。如果运行重启skipd的命令后，再次运行`ps|grep skipd|grep -v grep`仍然没有输出，说明储存在jffs分区的skipd数据库可能遭到了损坏，此时可以请参考下文：重要命令里的软件中心重置。
  > 7. 还有一种较为常见的情况，在刷机过程中，jffs分区中存放的软件中心相关文件在刷机过程/路由器断电/重启过程中被破坏了，如果被破坏的文件正好是httpdb、软件中心数据库等关键文件，也会导致软件中心一直显示更新中的情况。虽然部分情况下，替换损坏的文件可以修复此问题，但是由于无法知晓是否有其它的文件损坏，所以这种情况下建议对路由器进行双清操作，双清完成后，路由器jffs分区内的软件中心相关文件会得到重建，然后在此基础上手动安装插件并手动配置，切记不要使用以前的jffs分区备份来进行恢复！
  > 8. 最后，如果你还是无法解决这个问题，这边建议直接进行固件双清，关于固件双清，请查看上文刷机术语。

  **Q3：软件中心页面一片空白**

  > **A3：** 按照下面的顺序依次尝试：
  >
  > 1. 如果你使用的固件是koolcenter软件中心，那么可能会出现有侧边栏却没有软件中心界面的问题，遇到此情况建议更换谷歌Chrome，或者Chromium内核的浏览器！如果你连侧边栏都看不到，点击软件中心菜单栏后一片空白，请继续往下读。
  > 2. 参考本贴的**重要命令**章节部分，使用ssh登陆到路由器后台后，输入命令：`mount | grep -w /jffs`，如果看到类似`ubi:jffs2 on /jffs type ubifs (rw,relatime,assert=read-only,ubi=0,vol=13)`这样的输出，说明/jffs成功挂载了，挂载设备为`ubi:jffs2`。如果没有任何输出，则说明/jffs分区没有成功挂载，请尝试重启路由、重置路由等操作后再次查看jffs分区是否成功挂载，如果仍然不行，尝试运行以下命令手动挂载RT-AX86U Pro的jffs分区：`mount -t ubi:jffs2 -o rw,noatime /dev/mtdblock9 /jffs`，运行完毕后再次`mount | grep /jffs`，检查是否成功挂载。如果手动挂载还是不行，那么可能是FALSH有问题或者是系统有问题，这种建议售后渠道换机了。
  > 3. 如果jffs分区挂载没有问题，软件中心页面还是空白，可以尝试使用下文：重要命令里的**软件中心重置命令**，来重置一次软件中心。然后基本上就能看到软件中心页面了。

  **Q4：华硕发了GT-BE96固件，为什么此帖还不更新官改固件啊？**

  > **A4**：官改固件是来源于对华硕放出的固件源代码的修改，并不是固件本身。华硕固件发布后一般会在2周到2个月之间（也可能一直不会放出）放出源代码，此时才能进行修改工作，修改过程还涉及到一些测试、回炉工作，因此请大家看到华硕固件出来后**不要催更！**我一般都会在源码放出来后第一时间更新的！

  **Q5：我的xxx固件无线有问题，能否修复？**

  > **A5**：无线问题无能为力，因为华硕使用的是博通商业代码，无线这部分在固件源代码里是不开源的，没法进行任何修改或者调整。

  **Q6：可不可给固件以增加xxx功能？**

  > **A6**：基本不可以，本官改固件的开发宗旨是在尽量保持ASUS官方固件原汁原味的基础上，增加软件中心及对应插件的支持。所以一些官方固件有的问题，在官改固件中也可能会遗传。koolcenter固件开发组会尽量对一些ASUS已知的bug进行修复，不过仅限于非常重要的。另外，添加功能是软件中心的使命，软件中心就是为此而生的。

  **Q7：我现在已经是xxx的版本，用着挺稳定，看见本帖更新了最新固件，我还需要跟随最新版本升级吗？升级后稳定吗？升级后需要恢复出厂设置吗？**

  > **A7：** 非常建议升级！最新的固件版本不仅有来自ASUS官方的一些功能更新，也会包含ASUS官方的一些安全更新、稳定性更新，一般来说会比老版本固件更加稳定。
  >
  > 同时，软件中心和相关插件也是持续为最新版本的官改固件进行更新的，所以是强烈建议升级到最新版本的官改的。另外已经刷过官改固件的，升级到最新koolshare官改固件，如无特殊说明，是不需要做恢复出厂设置等操作的，固件升级后所有的插件都会得到保留。

  ---

  ### 重要命令

  > 以下操作需要使用支持SSH协议的软件，连接到路由器后台进行操作，如果不会使用，可以参考下面步骤：
  >
  > 1. **启用SSH：** 在路由器后台的【系统管理】-【系统设置】里，将【启用 SSH】更改为`LAN only`，将端口号设置为`22`或者其它数字，点击页面下方【应用本页面设置】保存更改；
  > 2. **登录SSH：** 下载SSH软件，如putty（[官方绿色版putty 0.74下载地址](https://the.earth.li/~sgtatham/putty/0.74/w64/putty.exe)），运行后在Host Name（or IP address）处输入路由器的局域网IP地址，如：`192.168.50.1`或者`router.asus.com`，端口为上一步中【SSH 端口】中的端口，如果没有更改，则为`22`，点击【Open】，如果有弹出Putty Security Alert，点击【是】；在界面的`login as`后面输入`路由器的登录帐号`后回车，然后在 password: 提示符后输入`路由器登录密码`后回车（记住：输入密码的时候不会有任何显示，输入完成后直接回车即可），完成登录。
  > 3. **键入命令：** 键入命令时建议将系统输入法切换为英文，也可以复制命令后使用右键即可粘贴命令，粘贴完毕后按回车即可执行命令。

  #### 1. 软件中心重置

  - 开启路由器SSH功能后，通过putty、xshell等SSH软件连接路由器，直接在ssh客户端内运行下面的程序即可。

  ```bash
  koolshare-reset
  ```


  #### 2. 清空jffs空间

  - 注意，此操作会删除jffs分区内的所有文件，包括但不限于：软件中心、安装的证书、TrafficAnalyzer的数据库、自定义的设备图标等

  ```bash
  kill -9 $(pidof skipd)
  cd /jffs && rm -r .[a-zA-Z_]* *
  reboot
  ```

  #### 3. 删除软件中心

  - 适用于**官改固件**刷回**原厂固件**，需要删除留在jffs分区内软件中心，而不删除其它文件。
  - 如果是在**官改固件**下删除软件中心，重启路由，路由会自动重新安装软件中心。

  ```bash
  kill -9 $(pidof skipd)
  cd /jffs
  rm -rf .asusrouter .koolshare db ksdb config/* etc/profile scripts/*
  reboot
  ```

  #### 4. 重启软件中心

  - 当软件中心相关进程挂掉的时候，此时可以用ssh进入路由器后台，输入以下命令重启软件中心：

  ```bash
  sh /koolshare/perp/perp.sh
  ```

  
